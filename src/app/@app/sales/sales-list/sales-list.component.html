<ion-header class="custom-header" [translucent]="true">
  <app-toolbar  [isMenuVisible]=false (handleInputEvent)="handleInput($event)" [isSearchBarVisible]=true (backButtonAction)="closeModal()"></app-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <h1 class="ion-margin" style="font-weight: bold;">Sales</h1>
  <app-list-card>
    <ion-grid>
      <ion-row >
        <ion-col size="9">
          <ion-buttons>
            <ion-button (click)="openDatePicker()" >Select Date</ion-button>
          </ion-buttons>
        </ion-col>
        <ion-col>
          <ion-label >
            <p>{{pickedDate}}</p>
          </ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
  </app-list-card>
  <app-list-card (click)="openSalesDetails(cardData)"   *ngFor="let cardData of results" [cardData]="cardData">
    <ion-label class="sale-container ion-padding-start ion-padding-end">

      <div class="list-card-header">
        <ion-text class="custom-card-name" >{{cardData.name}}</ion-text>
        <ion-text class="order-date" >{{cardData.date_order}}</ion-text>
      </div>

      <div class="grid">
          <div class="col">
            Customer:
          </div>
        <div class="col">
            {{cardData.partner_id[1] || "N/A"}}
        </div>
      </div>

      <div class="grid">
        <div class="col">
          <ion-text>Product:</ion-text>
        </div>
        <div class="col">
          <ion-text>{{cardData.product_id[1] || "N/A"}}</ion-text>
        </div>
      </div>

      <div class="grid">
        <div class="col">
          <ion-text>Branch:</ion-text>
        </div>
        <div class="col">
          <ion-text>{{cardData.company_id[1] || "N/A"}}</ion-text>
        </div>
      </div>

      <div class="grid">
        <div class="col">
          <ion-text>Total Amount:</ion-text>
        </div>
        <div class="col">
          <ion-text>{{cardData.amount_total || "N/A"}}(Visa)</ion-text>
        </div>
      </div>

      <div class="buttons">
        <button  class="receipt" size="small"  color="primary" fill="solid">View Reciept</button>
      </div>


    </ion-label>
  </app-list-card>

  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button>
      <ion-icon (click)="addSales()" name="add-circle"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
